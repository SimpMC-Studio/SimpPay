---
title: Streak liÃªn tiáº¿p
description: Há»‡ thá»‘ng thÆ°á»Ÿng náº¡p tiá»n liÃªn tiáº¿p nhiá»u ngÃ y
---

import { Steps, Aside } from '@astrojs/starlight/components';

Há»‡ thá»‘ng streak thÆ°á»Ÿng ngÆ°á»i chÆ¡i náº¡p tiá»n liÃªn tá»¥c nhiá»u ngÃ y. Khuyáº¿n khÃ­ch ngÆ°á»i chÆ¡i náº¡p Ä‘á»u Ä‘áº·n.

## CÃ¡ch hoáº¡t Ä‘á»™ng

### Logic streak

- **NgÃ y Ä‘áº§u tiÃªn**: Náº¡p láº§n Ä‘áº§u â†’ Streak = 1
- **NgÃ y tiáº¿p theo**: Náº¡p trong 24h tiáº¿p theo â†’ Streak + 1
- **Bá» lá»¡ 1 ngÃ y**: KhÃ´ng náº¡p > 24h â†’ Streak reset vá» 1
- **Nhiá»u láº§n trong ngÃ y**: Náº¡p nhiá»u láº§n cÃ¹ng ngÃ y â†’ Streak khÃ´ng Ä‘á»•i

### Best streak

- Track streak cao nháº¥t tá»«ng Ä‘áº¡t Ä‘Æ°á»£c
- KhÃ´ng bao giá» giáº£m
- Hiá»ƒn thá»‹ qua PlaceholderAPI

## Cáº¥u hÃ¬nh

File: `plugins/SimpPay/streak-config.yml`

```yaml
# SimpPay @ 2026
# Made by typical.smc

# Streak Configuration

# Báº­t/táº¯t há»‡ thá»‘ng streak
enabled: true

# Milestone rewards - ThÆ°á»Ÿng khi Ä‘áº¡t streak nháº¥t Ä‘á»‹nh
milestones:
  3:
    name: "Streak 3 ngÃ y"
    commands:
      - "give {player} diamond 3"
    message: "<green>ğŸ”¥ Báº¡n Ä‘Ã£ náº¡p 3 ngÃ y liÃªn tiáº¿p! Nháº­n 3 diamond</green>"

  7:
    name: "Streak 1 tuáº§n"
    commands:
      - "give {player} diamond 10"
      - "give {player} emerald 2"
    message: "<gradient:green:aqua>ğŸ”¥ Streak 7 ngÃ y! Nháº­n 10 diamond + 2 emerald</gradient>"

  14:
    name: "Streak 2 tuáº§n"
    commands:
      - "give {player} diamond 25"
      - "give {player} emerald 5"
    message: "<gradient:yellow:gold>ğŸ”¥ Streak 14 ngÃ y! Nháº­n 25 diamond + 5 emerald</gradient>"

  30:
    name: "Streak 1 thÃ¡ng"
    commands:
      - "give {player} diamond 60"
      - "give {player} emerald 15"
      - "give {player} netherite_ingot 1"
    message: "<gradient:red:gold>ğŸ”¥ Streak 30 ngÃ y! Nháº­n 60 diamond + 15 emerald + 1 netherite</gradient>"

  60:
    name: "Streak 2 thÃ¡ng"
    commands:
      - "give {player} diamond 150"
      - "give {player} emerald 40"
      - "give {player} netherite_ingot 3"
    message: "<gradient:purple:pink>ğŸ”¥ Streak 60 ngÃ y! Nháº­n 150 diamond + 40 emerald + 3 netherite</gradient>"

  90:
    name: "Streak 3 thÃ¡ng"
    commands:
      - "give {player} diamond 250"
      - "give {player} emerald 75"
      - "give {player} netherite_ingot 5"
      - "lp user {player} permission set vip.streak90"
    message: "<gradient:gold:red>ğŸ”¥ğŸ”¥ STREAK 90 NGÃ€Y! Nháº­n 250 diamond + 75 emerald + 5 netherite + VIP rank!</gradient>"
```

## Chi tiáº¿t cáº¥u hÃ¬nh

### enabled

- **Kiá»ƒu**: `boolean`
- **Máº·c Ä‘á»‹nh**: `true`
- **MÃ´ táº£**: Báº­t/táº¯t há»‡ thá»‘ng streak

### milestones

Map cá»§a streak days â†’ rewards.

**Key**: Sá»‘ ngÃ y streak (integer)
**Value**: Object chá»©a `name`, `commands`, `message`

#### name

- **Kiá»ƒu**: `string`
- **MÃ´ táº£**: TÃªn milestone (dÃ¹ng Ä‘á»ƒ track completion)

#### commands

- **Kiá»ƒu**: `list<string>`
- **MÃ´ táº£**: Lá»‡nh thá»±c thi khi Ä‘áº¡t streak

**Placeholders:**
- `{player}` - TÃªn ngÆ°á»i chÆ¡i
- `{streak}` - Sá»‘ ngÃ y streak hiá»‡n táº¡i
- `{best_streak}` - Streak tá»‘t nháº¥t

#### message

- **Kiá»ƒu**: `string`
- **MÃ´ táº£**: Message gá»­i cho ngÆ°á»i chÆ¡i (MiniMessage format)

## VÃ­ dá»¥ streak flow

### NgÃ y 1 (Thá»© 2)

```
Player náº¡p 50k â†’ Streak = 1
Message: "Streak cá»§a báº¡n: 1 ngÃ y ğŸ”¥"
```

### NgÃ y 2 (Thá»© 3)

```
Player náº¡p 100k â†’ Streak = 2
Message: "Streak cá»§a báº¡n: 2 ngÃ y ğŸ”¥"
```

### NgÃ y 3 (Thá»© 4)

```
Player náº¡p 50k â†’ Streak = 3
Trigger milestone 3 ngÃ y:
- Give 3 diamond
- Message: "ğŸ”¥ Báº¡n Ä‘Ã£ náº¡p 3 ngÃ y liÃªn tiáº¿p!"
```

### NgÃ y 4 (Thá»© 5)

```
Player KHÃ”NG náº¡p â†’ Streak váº«n = 3 (chÆ°a quÃ¡ 24h)
```

### NgÃ y 5 (Thá»© 6)

```
Player váº«n KHÃ”NG náº¡p â†’ Streak reset vá» 0
```

### NgÃ y 6 (Thá»© 7)

```
Player náº¡p láº¡i â†’ Streak = 1 (báº¯t Ä‘áº§u láº¡i)
Message: "Streak cá»§a báº¡n Ä‘Ã£ bá»‹ reset do khÃ´ng náº¡p liÃªn tá»¥c."
```

## Date calculation

Streak dÃ¹ng **LocalDate** (ngÃ y Ä‘á»‹a phÆ°Æ¡ng) Ä‘á»ƒ tÃ­nh:

- Timezone: `ZoneId.systemDefault()` (timezone cá»§a server)
- So sÃ¡nh: `LocalDate.now()` vs `lastPaymentDate`
- Consecutive: `lastPaymentDate.plusDays(1).equals(today)`

<Aside type="note">
  Náº¿u server á»Ÿ timezone UTC+7 (Viá»‡t Nam), ngÃ y má»›i báº¯t Ä‘áº§u lÃºc 00:00 UTC+7.
</Aside>

## Streak menu

NgÆ°á»i chÆ¡i cÃ³ thá»ƒ xem streak qua lá»‡nh:

```
/streak
```

Menu hiá»ƒn thá»‹:
- Current streak
- Best streak
- Tiáº¿n Ä‘á»™ Ä‘áº¿n milestone tiáº¿p theo
- Danh sÃ¡ch milestone rewards

## Testing

<Steps>

1. **Fake payment ngÃ y 1**

   ```
   /simppayadmin fakebank player1 10000
   ```

   Check: Streak = 1

2. **Fake payment ngÃ y 2**

   Äá»•i system date hoáº·c Ä‘á»£i 24h, sau Ä‘Ã³:
   ```
   /simppayadmin fakebank player1 10000
   ```

   Check: Streak = 2

3. **Fake payment ngÃ y 3**

   ```
   /simppayadmin fakebank player1 10000
   ```

   Check: Streak = 3, nháº­n thÆ°á»Ÿng milestone 3 ngÃ y

</Steps>

<Aside type="tip">
  Äá»ƒ test nhanh, cÃ³ thá»ƒ táº¡m thá»i sá»­a code `StreakService` Ä‘á»ƒ dÃ¹ng hours thay vÃ¬ days.
</Aside>

## Best practices

1. **ThÆ°á»Ÿng tÄƒng dáº§n**: Streak cao hÆ¡n â†’ ThÆ°á»Ÿng nhiá»u hÆ¡n

2. **Milestone há»£p lÃ½**: 3, 7, 14, 30, 60, 90 ngÃ y

3. **ThÃ´ng bÃ¡o rÃµ rÃ ng**: DÃ¹ng emoji ğŸ”¥ Ä‘á»ƒ highlight streak

4. **Khuyáº¿n khÃ­ch**: Gá»­i reminder khi sáº¯p máº¥t streak

5. **Track best streak**: Táº¡o Ä‘á»™ng lá»±c phÃ¡ ká»· lá»¥c

## Placeholders

Hiá»ƒn thá»‹ streak info qua PlaceholderAPI:

```
%simppay_streak_current%  - Streak hiá»‡n táº¡i
%simppay_streak_best%     - Best streak
```

**VÃ­ dá»¥ scoreboard:**
```
&6Streak: &e%simppay_streak_current% ngÃ y ğŸ”¥
&6Best: &e%simppay_streak_best% ngÃ y
```

## Xem thÃªm

- [Milestones](/features/milestones/) - ThÆ°á»Ÿng theo má»‘c náº¡p
- [Náº¡p láº§n Ä‘áº§u](/features/naplandau/) - ThÆ°á»Ÿng náº¡p láº§n Ä‘áº§u
- [Placeholders](/placeholders/index/) - Hiá»ƒn thá»‹ streak info
